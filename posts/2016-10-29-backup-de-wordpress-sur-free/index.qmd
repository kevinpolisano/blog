---
title: "Backup de Wordpress sur Free"
author: "K√©vin Polisano"
date: "2016-10-29"
categories: [informatique]
toc: true
toc-title: "Sommaire"
toc-location: left
reference-location: margin
citation-location: margin
image: images/hdd.jpg
lightbox:
  match: auto
  effect: fade
  desc-position: right
  loop: true
---

Lorsque vous faites une sauvegarde (un backup) de votre site, il faut en fait deux choses qui communiquent (et donc sont indispensables) et ne se situent pas au m√™me endroit :

1.  **L'ensemble de vos fichiers/r√©pertoires WP upload√©s sur le serveur qui vous h√©berge.**
2.  **Une copie de la base de donn√©e qui elle contient tout le contenu texte/commentaires/etc de votre site.**

## Comment t√©l√©charger les fichiers upload√©s sur le serveur Free.fr ?

La premi√®re chose est de se connecter au serveur gr√¢ce √† un client tel que [FileZilla](https://filezilla-project.org/).

Clic droit sur le r√©pertoire √† la racine / et faites `T√©l√©charger` :

![](images/backup_wp.png)

## Pourquoi certains fichiers avec accents indiquent un "transfert √©chou√©" ?

Typiquement ces fichiers (o√π le '√©' est transform√© en '√É¬©') ne sont pas t√©l√©charg√©s...

![](images/transfert-echoues-accents.png)

C'est souvent du √† un probl√®me d'encodage... pour y rem√©dier il faut se rendre dans :

``` bash
FileZilla > Fichier > "Ajouter la connexion actuelle dans le Gestionnaire de site"
```

Puis dans : `Gestionnaire de site > Jeu de caract√®res`. Indiquez comme nouvel encodage `ISO-8859-1`. ![](images/jeu-caractere-filezilla.png)Il va falloir red√©marrer FileZilla mais avant √ßa vous pouvez sauvegarder la liste des transferts qui ont √©chou√© en faisant `clic droit > Exporter.` Ce qui vous enregistrera un fichier `FileZilla.xml`.

Red√©marrer FileZilla, puis faites `Fichier > Importer > FileZilla.xml` pour retrouver la liste en question, puis clic droit dans la file d'attente `Traiter la file d'attente`.

![](images/file-attente.png)

Les fichiers accentu√©s devraient maintenant √™tre t√©l√©charg√©s.

## ¬†Non √ßa ne fonctionne toujours pas...

La plupart du temps cela fonctionne, mais dans certains cas, comme ce fut le mien, cette proc√©dure ne r√©sout pas le probl√®me (peut-√™tre uniquement sur Free?).

Les fichiers accentu√©s √©taient majoritairement des noms d'images upload√©s, qui se trouvent dans le r√©pertoire `/wp-content/uploads/`.

On aimerait bien r√©cup√©rer ce dossier sans passer par FileZilla, et pour cela on va utiliser le navigateur (pour ma part Mozilla Firefox) ! Mais avant tout il nous faut pouvoir acc√©der √† l'url du r√©pertoire en question, ce que ne permet pas les r√©glages par d√©faut. Pour cela il faut **modifier le fichier .htaccess** qui se situe √† la racine du serveur, faites `clic droit > Afficher / √©diter` :

![](images/htaccess.png)

Puis ajouter la ligne : `Options +Indexes`

![](images/editeur.png)

Quitter l'√©diteur de texte et cliquez sur un nombre fichier √† la racine, FileZilla va vous demander si vous voulez enregistrer les modifications et exporter le nouveau fichier sur le serveur, acceptez.

Maintenant vous avez acc√®s au r√©pertoire depuis votre navigateur :

![](images/index-uploads.png)

Munissez vous ensuite d'un plugin Firefox vous permettant de t√©l√©charger ce dossier, j'ai utilis√© pour ma part [DownThemAll](https://addons.mozilla.org/fr/firefox/addon/downthemall/). Faites ensuite :

`Outils > Outils DownThemAll > DownThemAll`

![](images/down-them-all.png)

Vous pouvez maintenant **t√©l√©charger tout le dossier** `/wp-content/uploads`, s√©lectionner les images poss√©dant un accent (via un terminal et quelques commandes unix par exemple si vous ne voulez pas le faire √† la main), et vous pouvez ainsi les adjoindre pour compl√©ter le r√©pertoire de sauvegarde local `/wp-content/uploads` que vous avez d√©j√† t√©l√©charg√© sur votre disque dur.

Le tour est jou√© !

## Comment t√©l√©charger la base de donn√©e SQL ?

Il y a bien s√ªr des plugins qui le font tr√®s bien, mais voici la proc√©dure manuelle vous permettant de la r√©cup√©rer sur Free :

Rendez √† l'adresse suivante (anciennement sql.free.fr) : <http://phpmyadmin.free.fr/phpMyAdmin/> puis cliquez sur l'onglet `Exporter`, ce qui vous permet d'afficher dans le navigateur les instructions SQL, qu'il vous suffit de copier-coller dans un fichier texte.

Le tour est jou√© ! üòâ
